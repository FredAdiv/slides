# FastAPI
{id: fastapi}

## Install FastAPI
{id: fastapi-install}

* Python 3.6 or newer is needed

```
pip install "fastapi[all]"
```

```
pip install "uvicorn[standard]"
```

## FastAPI with Docker compose
{id: fastapi-with-docker-compose}

![](examples/fastapi/Dockerfile)

![](examples/fastapi/docker-compose.yml)

![](examples/fastapi/requirements.txt)

```
docker-compose up
```

```
docker exec -it fastapi_app_1 bash
```

```
uvicorn main:app --reload --host=0.0.0.0
```


## FastAPI -  Hello World
{id: fastapi-hello-world}


![](examples/fastapi/hello-world/main.py)

```
uvicorn main:app --reload
```

Visit `http://localhost:8000/`

Visit `http://localhost:8000/docs` to see the documentation generated by [Swagger UI](https://swagger.io/tools/swagger-ui/)

Visit `http://localhost:8000/redoc` to see the documentation generated by [Redoc](https://redocly.com/)

* path - endpoint - route


## FastAPI -  Test Hello World
{id: fastapi-hello-world-test}

![](examples/fastapi/hello-world/test_main.py)

```
pytest
```


## FastAPI - Dynamic response
{id: fastapi-dynamic-response}

![](examples/fastapi/dynamic-response/main.py)


## FastAPI - Echo GET - Query Parameters
{id: fastapi-echo-get}

![](examples/fastapi/echo-get/main.py)

`http://localhost:8000/?text=Foo%20Bar`

![](examples/fastapi/echo-get/test_main.py)

## FastAPI - Calculator GET
{id: fastapi-calculator-get}

![](examples/fastapi/calculator-get/main.py)

`http://localhost:8000/?a=2&b=3`

![](examples/fastapi/calculator-get/test_main.py)

## FastAPI - Path Parameters - str
{id: fastapi-path-parameters-str}

![](examples/fastapi/username-path/main.py)

`http://localhost:8000/user/foobar`
`http://localhost:8000/user/foo bar`


`http://localhost:8000/user/` - 404

![](examples/fastapi/username-path/test_main.py)

## FastAPI - Path Parameters - int
{id: fastapi-path-parameters-int}

![](examples/fastapi/userid-path/main.py)

`http://localhost:8000/user/23`
`http://localhost:8000/user/foo`
`http://localhost:8000/user/2.3`

## FastAPI - Path Parameters - specific values with enum
{id: fastapi-path-parameters-specific-values-with-enum}

![](examples/fastapi/specific-values-path/main.py)

`http://localhost:8000/car/Volvo`

`http://localhost:8000/car/volvo`  error


## FastAPI - Path containing a directory path
{id: fastapi-path-containing-a-path}

![](examples/fastapi/path-of-path/main.py)

`http://localhost:8000/file/a.txt`    works
`http://localhost:8000/file/a/b.txt`  not found

`http://localhost:8000/deep/a.txt`    works
`http://localhost:8000/deep/a/b.txt`  works


## Return main HTML page
{id: fastapi-return-html-page}

![](examples/fastapi/return-html/main.py)

## Return main HTML file
{id: fastapi-return-html-file}

![](examples/fastapi/return-html-file/main.py)
![](examples/fastapi/return-html-file/index.html)


* Demo in Docker
* POST
* Access to MongoDB
* Access to PostgreSQL
* Access to SQLite
* Session ???
* Counter
* Can we have the query parameters and the internal variables be different (e.g.   paramName  and param_name ?)
* Get details from the request header (e.g. Authorization)
* Set headers in the response
* abort(401) with some status code  (eg   user/{id}  but we don't have that specific id)
* handel exceptions (500 errors)



